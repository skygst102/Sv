{"version":3,"file":"Sv.js","sources":["../src/modules/component.js","../src/modules/Exception.js","../src/modules/componentStore.js","../src/modules/render.js","../src/modules/vnode.js","../src/modules/util.js","../src/modules/Sv.js","../src/index.js"],"sourcesContent":["export class Component{\r\n    constructor(props) {\r\n    }\r\n    // render() {/* 渲染 */}\r\n    // setState(){}\r\n\r\n    // getState(s){}\r\n    // listener(){}\r\n    // setStore(){}\r\n    // getStore(){}\r\n    // run() {}\r\n    // componentWillMount()   {/* 在渲染前调用 */}\r\n    // componentDidMount()    { /* 在第一次渲染后调用 */}\r\n    // componentDidUpdate()   {/* 在组件完成更新后立即调用。在初始化时不会被调用 */}\r\n    // componentWillUnmount() {/* 在组件从 DOM 中移除之前被调用 */}\r\n}","class _Exception {\r\n    constructor(props) {\r\n        this.current=props.current\r\n        this.color={\r\n            'error':'color:red',\r\n            'warn' : ''\r\n        };\r\n    }\r\n    error(msg){\r\n        if (this.current===window) {\r\n            console.error('%c'+msg,this.color.error)\r\n        } else {\r\n\r\n        }\r\n    }\r\n    warn(msg){\r\n        if (this.current===window) {\r\n            console.warn('%c'+msg,this.color.warn)\r\n        } else {\r\n\r\n        }\r\n    }\r\n    \r\n}\r\nconst Exception=new _Exception({'current':window})\r\nexport {Exception}","import { Exception } from \"./Exception\";\r\n\r\nclass componentStore {\r\n    constructor(props) {\r\n        this.current = props.current\r\n        this.props = props\r\n    }\r\n    set(o,sign) {\r\n        if (sign) {\r\n            let pipeline = this.current.localStorage.getItem(this.props._pipelineSign);\r\n            let obj=JSON.parse(pipeline);\r\n            if (!obj[sign]) {\r\n                obj[sign]={};\r\n            }\r\n            let store=obj[sign];\r\n            Object.assign(store,o);\r\n            Object.assign(obj,{[sign] : store});\r\n            this.current.localStorage.setItem(this.props._pipelineSign,JSON.stringify(obj));\r\n            return obj;\r\n        } else {\r\n            let store = this.current.localStorage.getItem(this.props._global_store_sign);\r\n            let storeObj = JSON.parse(store)||{};\r\n            Object.assign(storeObj, o)\r\n            this.current.localStorage.setItem(this.props._global_store_sign,JSON.stringify(storeObj));\r\n            return this.current.localStorage[this.props._global_store_sign];\r\n        }\r\n\r\n    }\r\n    get(key,sign) {\r\n        let store;\r\n        if (sign) {\r\n            let pipeline = this.current.localStorage.getItem(this.props._pipelineSign);\r\n            let obj=JSON.parse(pipeline);\r\n            store=obj[sign];\r\n\r\n        } else {\r\n            store = this.current.localStorage.getItem(this.props._global_store_sign);\r\n        }\r\n\r\n        let storeObj = typeof(store)==='string' ? JSON.parse(store) : store;\r\n        return storeObj[key];\r\n    }\r\n    init(o){\r\n        this.current.localStorage.setItem(this.props._global_store_sign, '{}');\r\n        this.current.localStorage.setItem(this.props._pipelineSign, '{}');\r\n    }\r\n}\r\n\r\nexport { componentStore }","import { Exception } from \"./Exception\";\r\n//指令\r\nfunction directive(dom, content, arr, compObj) {\r\n    let input = {\r\n        event: 'oninput',\r\n    };\r\n    if (dom.tagName == 'input' || dom.tagName == 'textarea') {\r\n        input.event = input.event.replace(/^(on)/g, '');\r\n        dom.el.addEventListener(input.event, function () {\r\n            if (arr[0] === 'state') {\r\n                compObj.setState({ [arr[1]]: dom.el.value });\r\n            }\r\n        }, false)\r\n    }\r\n}\r\n/* 绑定的state 信息 */\r\nfunction parallelism(keyName, compObj, tagName, id, type, key, value, parallelism_flash) {\r\n    let vo = {\r\n        tagName: tagName,\r\n        id: id,\r\n        type: type,\r\n        key: type === 'text' ? '' : key,\r\n        value: value,\r\n    }\r\n\r\n    let parallelism = compObj.parallelism[keyName];\r\n    let parallelism_f = parallelism_flash[keyName];\r\n    if (!parallelism && !parallelism_f) {\r\n        compObj.parallelism[keyName] = [vo];\r\n        parallelism_flash[keyName] = [JSON.stringify(vo)]\r\n    } else {\r\n        if (parallelism_f.indexOf(JSON.stringify(vo)) == -1) {\r\n            parallelism.push(vo);\r\n            parallelism_f.push(JSON.stringify(vo));\r\n        }\r\n    }\r\n    return vo;\r\n}\r\n// =============================\r\n// 解析{...}\r\n//\r\n//==============================\r\nfunction analysis(dom, compObj, type, attr, value, status, parallelism_flash, temIdentifying_select, temIdentifying_replace) {\r\n    let content;\r\n    let temp = value.match(temIdentifying_select);\r\n    if (temp) {\r\n        temp.forEach((key, i, self) => {\r\n            let cobjv;\r\n            let text;\r\n            let arr = key.replace(temIdentifying_replace, '').replace(/this\\./g, '').split('.');\r\n            if (arr.length == 1) {\r\n                cobjv = compObj[arr[0]];\r\n            }\r\n            if (arr.length == 2) {\r\n                cobjv = compObj[arr[0]][arr[1]];\r\n            }\r\n            if (arr.length == 3) {\r\n                cobjv = compObj[arr[0]][arr[1]][arr[2]];\r\n            }\r\n            if (arr.length == 4) {\r\n                cobjv = compObj[arr[0]][arr[1]][arr[2]][arr[3]];\r\n            }\r\n            if (typeof (cobjv) == 'function') {\r\n                let res = cobjv();\r\n                if (typeof (res) === 'string') {\r\n                    text = res;\r\n                } else {\r\n                    Exception.error(key + ' 返回值不是string类型')\r\n                }\r\n            }\r\n            if (typeof (cobjv) == 'string') {\r\n                text = cobjv;\r\n            }\r\n            if (self.length > 1 && content) {\r\n                content = content.replace(key, text);\r\n            } else {\r\n                content = value.replace(key, text);\r\n            }\r\n            if (status) {\r\n                if (arr[0] === 'state') {\r\n                    let keyName = arr.join('_');\r\n                    parallelism(keyName, compObj, dom.tagName, dom.id, type, attr, value, parallelism_flash);\r\n                }\r\n                // directive\r\n                let one = true;\r\n                if (directive && one) {\r\n                    let result = directive(dom, content, arr, compObj);\r\n                    typeof (result) === 'string' ? content = result : null;\r\n                    one = false\r\n                }\r\n            }\r\n        });\r\n    } else {\r\n        content = value;\r\n    }\r\n    return content;\r\n}\r\nfunction createElement(vdom, compObj, temIdentifying_select, temIdentifying_replace, parallelism_flash, orderPrefix) {\r\n    let parentNode = null;\r\n    vdom.forEach((key, i) => {\r\n        let dom = {\r\n            el: document.createElement(key.tagName),\r\n            id: key.id,\r\n            pid: key.pid,\r\n            tagName: key.tagName,\r\n            text: key.props.text,\r\n            attributes: key.props.attributes,\r\n        }\r\n        let sty = JSON.stringify(key.props.style).replace(/\\{|\\}|\"|\\'/g, '') || '';\r\n\r\n        dom.el.setAttribute('data-sv_sign_id', dom.id);\r\n\r\n        if (dom.attributes.style) {\r\n            dom.attributes[\"style\"] += ';' + sty;\r\n        } else if (sty) {\r\n            dom.attributes[\"style\"] = sty;\r\n        }\r\n\r\n        if (dom.text) {\r\n            if (temIdentifying_select.test(dom.text)) {\r\n                let text = analysis(dom, compObj, 'text', '', dom.text, true, parallelism_flash, temIdentifying_select, temIdentifying_replace);\r\n                dom.el.innerText = text\r\n            } else {\r\n                dom.el.innerText = dom.text\r\n            }\r\n        }\r\n\r\n        if (JSON.stringify(dom.attributes) !== '{}') {\r\n            for (const key in dom.attributes) {\r\n                let attr;\r\n                if (temIdentifying_select.test(dom.attributes[key])) {\r\n                    attr = analysis(dom, compObj, 'attribute', key, dom.attributes[key], true, parallelism_flash, temIdentifying_select, temIdentifying_replace);\r\n\r\n                } else {\r\n                    attr = dom.attributes[key];\r\n                }\r\n                if (!orderPrefix.test(key)) {\r\n                    dom.el.setAttribute(key, attr)\r\n                }\r\n            }\r\n        }\r\n        if (!parentNode) {\r\n            parentNode = dom.el;\r\n        } else {\r\n            if (dom.pid === 1) {\r\n                parentNode.appendChild(dom.el);\r\n            } else {\r\n                parentNode.querySelector('[data-sv_sign_id=\"' + dom.pid + '\"]').appendChild(dom.el);\r\n            }\r\n        }\r\n    });\r\n    return parentNode;\r\n}\r\n\r\nfunction render(vdom, compObj, config, _analysis) {\r\n    let parentNode = null;\r\n    let orderPrefix = /^(v-)/gi;\r\n    let parallelism_flash = {};\r\n    let temIdentifying_select = /\\{(.+?)\\}/g;\r\n    let temIdentifying_replace = /\\{|\\}/g;\r\n\r\n    if (config.template === '{{}}') {\r\n        temIdentifying_select = new RegExp(/^\\{\\{.+\\}\\}$/g);\r\n        temIdentifying_replace = new RegExp(/^\\{\\{|\\}\\}$/g);\r\n    }\r\n    if (config.orderPrefix) {\r\n        orderPrefix = new RegExp('^(' + config.orderPrefix + ')', 'gi');\r\n    }\r\n    if (typeof (_analysis) === 'object') {\r\n        return analysis('', compObj, '', _analysis.key, _analysis.value, false, parallelism_flash, temIdentifying_select, temIdentifying_replace)\r\n    }\r\n    parentNode = createElement(vdom, compObj, temIdentifying_select, temIdentifying_replace, parallelism_flash, orderPrefix)\r\n    return parentNode;\r\n\r\n\r\n}\r\n\r\nexport { render }","function htmlToVnode(element) {\r\n    let vnode = [];\r\n    let count = 1;\r\n    if (typeof element==='string') {\r\n        let div=document.createElement('div');\r\n        div.innerHTML=element;\r\n        element=div;\r\n    }\r\n    function vNode(el, obj, root,parentEl) {\r\n        // obj={id:'',pid:'',index:'',}\r\n        let tagName = el.tagName.toLowerCase();\r\n        let name = tagName === 'div' ? 'View' : tagName === 'img' ? 'Image' : tagName === 'input' ? 'TextInput' : tagName;\r\n        let text=parentEl? null:el.firstChild ? el.firstChild.nodeValue:null;\r\n        if (typeof(text)==='string'&&text.replace(/\\n|\\s|\\t/g,'')==='') {\r\n            text=null;\r\n        }\r\n        let nodeObj = {\r\n            tagName: tagName,\r\n            id: obj.id || count,\r\n            index: obj.index || null,\r\n            pid: obj.pid || root || 'root',\r\n            name: name,\r\n            props: {\r\n                attributes: {},\r\n                text: text,\r\n                style: {}\r\n            },\r\n        };\r\n        Array.from(el.attributes).forEach((key, i) => {\r\n            nodeObj.props.attributes[key.name] = key.value||'';\r\n        })\r\n        return nodeObj;\r\n    }\r\n\r\n    function recursion(element, pid, id) {\r\n        let nodeArr = Array.prototype.slice.call(element.children);\r\n        if (nodeArr.length > 0) {\r\n            nodeArr.forEach((key, i) => {\r\n                count++;\r\n                vnode.push(vNode(key, { id: count, pid: pid || count }))\r\n                recursion(key,count,count)\r\n            });\r\n        }\r\n    }\r\n    vnode.push(vNode(element, {},null,true))\r\n    recursion(element, count);\r\n    return vnode;\r\n}\r\n\r\nexport {htmlToVnode}\r\n","export function isFunction (obj){\r\n    // In some browsers, typeof returns \"function\" for HTML <object> elements\r\n    // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\r\n    // We don't want to classify *any* DOM node as a function.\r\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\r\n}\r\nexport function isArray (obj){\r\n    return obj instanceof Array;\r\n}\r\nexport function isString (obj){\r\n\r\n    return typeof obj==='string';\r\n}\r\nexport function isObject (obj){\r\n    return typeof obj==='object';\r\n}\r\n","import { Component } from './component'\r\nimport { componentStore } from './componentStore.js'\r\nimport { Exception } from './Exception.js'\r\nimport { render } from './render.js'\r\nimport { htmlToVnode } from './vnode.js'\r\nimport { isFunction, isArray, isString, isObject } from './util'\r\n\r\nconst Sv = Object.create({});\r\nSv._version = '1.0';\r\nSv._name = 'Sv';\r\nSv.config = {\r\n    template: '{}',\r\n    orderPrefix: '',\r\n    current: window,\r\n    _global_store_sign: '__sv_store__',\r\n    _pipelineSign: '__sv_pipelineSign__',\r\n\r\n};\r\n\r\nSv.components = {};\r\nSv.Component = Component;\r\nSv.render = render;\r\n// Sv._pipeline=[];\r\nSv.domReadyFn = [];\r\n\r\n\r\nSv._init = [\r\n    function () {\r\n        Sv.config.current.localStorage.removeItem(Sv.config._global_store_sign);\r\n    },\r\n    function () {\r\n        Sv.globalStorage = new componentStore(Sv.config);\r\n        Sv.globalStorage.init()\r\n    },\r\n    function () {\r\n        document.addEventListener('DOMContentLoaded', function () {\r\n            Sv.domReadyFn.forEach(fn => {\r\n                fn()\r\n            });\r\n        }, false);\r\n    }\r\n]\r\nSv.mergeConfig = function (o) {\r\n    Object.assign(Sv.config, o)\r\n}\r\nSv.domReady = function (fn) {\r\n    Sv.domReadyFn.push(fn);\r\n}\r\nSv.registerModule = function (mName, fn) {\r\n    if (isString(mName) && isFunction(fn)) {\r\n        if (this.hasOwnProperty(mName)) {\r\n            Exception.error('[ ' + mName + ' ]  模块已经被注册,请重新命名');\r\n        } else {\r\n            this[mName] = fn()\r\n        }\r\n    } else {\r\n        Exception.error('Sv.registerModule(string,function)  注册模块正确参数');\r\n    }\r\n}\r\nSv.registerComponent = function (...cName) {\r\n    cName.forEach(key => {\r\n        if (Object.getPrototypeOf(key) === Component) {\r\n            if (this.components.hasOwnProperty(key.name)) {\r\n                Exception.error('[ ' + key.name + ' ]  组件已经被注册,请重新命名');\r\n                return false;\r\n            } else {\r\n                this.components[key.name] = key;\r\n            }\r\n        } else {\r\n            Exception.error('[ ' + key.name + ' ]  组件必须继承 Component 父类');\r\n            return false;\r\n        }\r\n    });\r\n}\r\nSv.defineProperty = function (Wobj,key,setFn, getFn) {\r\n    if (key) {\r\n        wacth(Wobj, key)\r\n    } else {\r\n        for (const key in Wobj) {\r\n            wacth(Wobj, key)\r\n        }\r\n    }\r\n\r\n    function wacth(Wobj, key) {\r\n        Object.defineProperty(Wobj, '_' + key + '_', {\r\n            get: function () {\r\n                if (isFunction(setFn)) {\r\n                    getFn(key)\r\n                }\r\n                return Wobj[key];\r\n            },\r\n            set: function (value) {\r\n                Wobj[key] = value;\r\n                if (isFunction(setFn)) {\r\n                    setFn(key, value)\r\n                }\r\n            }\r\n        })\r\n    }\r\n}\r\n// Sv._discernWatch = function (Wobj, obj) {\r\n//     for (const key in obj) {\r\n//         Object.defineProperty(Wobj, key, {\r\n//             value: obj[key],\r\n//             writable: false,\r\n//             enumerable: false,\r\n//             configurable: false,\r\n//         })\r\n//     }\r\n// }\r\nSv.use = function (comParam, arg) {\r\n    let _componentList = {};\r\n\r\n    // Sv.domReady(function () {\r\n    if (isString(comParam)) {\r\n        let componentObj = Sv.components[comParam];\r\n        if (!componentObj) {\r\n            Exception.error('[ ' + comParam + ' ] 组件未注册');\r\n            _componentList = false;\r\n            return;\r\n        }\r\n    }\r\n    if (isObject(comParam)) {\r\n        /* 初始化对象 */\r\n        let comParamList = Object.entries(comParam);\r\n        for (let index = 0; index < comParamList.length; index++) {\r\n            let compName = comParamList[index][0];\r\n            let value = comParamList[index][1]\r\n            let component = Sv.components[compName];\r\n            if (component) {\r\n                let obj = new component(value);\r\n                obj.state = Object.assign(obj.state || {}, {});\r\n                obj.store = Object.assign(obj.store || {}, {});\r\n                obj.props = Object.assign(obj.props || {}, value);\r\n                obj.parallelism = {};\r\n                obj._pipeline = {};\r\n                obj._status ='init';\r\n                obj._name = compName;\r\n                obj._parentNode = obj.props._el || '';\r\n                /*  */\r\n                Sv.defineProperty(obj.state,null, function (key, value) {\r\n                    parallelism('state_' + key, value, obj)\r\n                });\r\n                // Sv.defineProperty(obj.store);\r\n                // Sv.defineProperty(obj.props);\r\n                _componentList[compName] = obj;\r\n            } else {\r\n                Exception.error('[ ' + compName + ' ] 组件未注册');\r\n                _componentList = false;\r\n                return;\r\n            }\r\n        }\r\n        /* 实例添加方法 */\r\n        for (let key in _componentList) {\r\n            let componentObj = _componentList[key];\r\n            componentObj.setStore = (o, type) => {\r\n                if (isObject(o)) {\r\n                    Object.assign(componentObj.store, o);\r\n                    if (type === true) { Sv.globalStorage.set(o, componentObj._name + '_store'); }\r\n                } else {\r\n                    Exception.error('setStore 参数必须是对象')\r\n                }\r\n            }\r\n            componentObj.getStore = (key, type) => {\r\n                if (isString(key)) {\r\n                    return componentObj.store[key];\r\n                }\r\n                if (type === true) { return Sv.globalStorage.get(key, componentObj._name + '_store') }\r\n\r\n            }\r\n            componentObj.setState = (obj) => {\r\n                // _updateStateList.push(obj)\r\n\r\n                if (isObject(obj)) {\r\n                    let _in = {}, _su = {};\r\n\r\n                    {\r\n                        for (const key in obj) {\r\n                            //state存在更新，不存在取出\r\n                            if (componentObj.state[key]) {\r\n                                _in['_' + key + '_'] = obj[key]\r\n                            } else {\r\n                                _su[key] = obj[key]\r\n                            }\r\n                        }\r\n                        Object.assign(componentObj.state, Object.assign(_in, _su))\r\n                    }\r\n                    {\r\n                        /* 监听新值 */\r\n                        for (let key in _su) {\r\n                            if (key) {\r\n                                Sv.defineProperty(componentObj.state,key, function (key, value) {\r\n                                    parallelism('state_' + key, value, componentObj)\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            componentObj.getState = (key) => {\r\n                let res = componentObj.state[key];\r\n                return res;\r\n            }\r\n            componentObj.getComponent = (name) => {\r\n                return {\r\n                    getState: _componentList[name].getState,\r\n                    getStore: _componentList[name].getStore,\r\n                    setState: _componentList[name].setState,\r\n                    setStore: _componentList[name].setStore,\r\n                    props: _componentList[name].props,\r\n                    state: _componentList[name].state,\r\n                    store: _componentList[name].store,\r\n                }\r\n            }\r\n            componentObj.pipeline = {\r\n                set: function (o) {\r\n                    if (isObject(o)) {\r\n                        if (componentObj.pipelineName) {\r\n                            Object.assign(componentObj._pipeline, o);\r\n                            return Sv.globalStorage.set(o, componentObj.pipelineName)\r\n                        }\r\n                    } else {\r\n                        Exception.error('pipeline.set 参数必须是对象')\r\n                    }\r\n                },\r\n                get: function (key) {\r\n                    if (isString(key) && componentObj.pipelineName) {\r\n                        return Sv.globalStorage.get(key, componentObj.pipelineName)\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (componentObj.template) {\r\n                /* 在挂载前调用 */\r\n                if (componentObj.componentMount) {\r\n                    componentObj._status='componentMount';\r\n                    let res = componentObj.componentMount();\r\n                    if (res) {\r\n                        return res;\r\n                    }\r\n                }\r\n\r\n                Sv.domReady(function () {\r\n                    let parentEl = componentObj.props._el ? document.querySelector(componentObj.props._el) : null;\r\n                    let template = componentObj.template();\r\n                    let vnode;\r\n                    let html;\r\n                    if (isString(template)) {\r\n                        vnode = htmlToVnode(template);\r\n                    }\r\n                    /* 生成dom */\r\n                    html = Sv.render(vnode, componentObj, Sv.config);\r\n                    componentObj._html=html;\r\n                    /* 在渲染前调用 */\r\n                    if (componentObj.componentBeforeRender) {\r\n                        componentObj._status='componentBeforeRender';\r\n                        let res=componentObj.componentBeforeRender(html);\r\n                        if (res) {\r\n                            if (isObject(res)&&res.html) {\r\n                                html=res.html;\r\n                            } else {\r\n                                return res;\r\n                            }\r\n                        }\r\n                    }\r\n                    /* 插入dom */\r\n                    parentEl.appendChild(html);\r\n\r\n                    /* 在渲染后调用 */\r\n                    if (componentObj.componentAfterRender) {\r\n                        componentObj._status='componentAfterRender';\r\n                        componentObj.componentAfterRender();\r\n                    }\r\n\r\n                    /* 在组件完成更新后立即调用。在初始化时不会被调用 */\r\n                    if (componentObj.componentAfterUpdate) {\r\n                        componentObj._status='componentAfterUpdate';\r\n                        componentObj.componentAfterUpdate();\r\n                    }\r\n\r\n                    /* 组件从 DOM 中卸载被调用 */\r\n                    if (componentObj.componentUnMount) {\r\n                        componentObj._status='componentUnMount';\r\n                        componentObj.componentUnMount();\r\n                    }\r\n\r\n                });\r\n            }\r\n        }\r\n    }\r\n    function parallelism(key, value, compObj) {\r\n        let parentEl= compObj.props['_el'];\r\n        typeof (parentEl) == 'string' ? parentEl = document.querySelector(parentEl) : null;\r\n        /* 根据组件所处状态触发更新 元素  */\r\n        if (compObj._status=='componentBeforeRender') {\r\n            parentEl=compObj._html;\r\n        }\r\n        if (compObj._status=='componentMount') {\r\n            return;\r\n        }\r\n\r\n        compObj.parallelism[key].forEach(o => {\r\n            let sign = 'sv_sign_id=\"' + o.id + '\"';\r\n            let el = parentEl.querySelector('[data-' + sign + ']');\r\n            let content = analysis(compObj, {\r\n                value: o.value\r\n            })\r\n\r\n            switch (o.type) {\r\n                case 'attribute':\r\n                    if (o.key == 'class') {\r\n                        let _class = el.getAttribute('class') || '';\r\n                        _class = _class.replace(content, '');\r\n                        _class = _class == '' ? '' : _class + ' ';\r\n\r\n                        el.setAttribute('class', _class + value);\r\n                    }\r\n                    if (o.key == 'style') {\r\n                        let _style = el.getAttribute('style') || '';\r\n                        _style = _style.replace(content, '');\r\n                        _style = _style == '' ? '' : _style + ' ';\r\n                        el.setAttribute('style', _style + value);\r\n                    }\r\n                    if (o.key != '') {\r\n                        el.setAttribute(o.key, value);\r\n                    }\r\n                    break;\r\n                case 'text':\r\n                    if (value !== o.text) {\r\n                        el.innerText = value;\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            // o.value = value;\r\n        });\r\n        function analysis(compObj, _analysis) {\r\n            return render(null, compObj, Sv.config, _analysis)\r\n        }\r\n    }\r\n    console.log(_componentList['c2']);\r\n    // });\r\n\r\n    return _componentList;\r\n}\r\n\r\nSv._init.forEach(fn => {\r\n    fn();\r\n});\r\n\r\n\r\nexport { Sv, Component }","\nimport { Sv, Component } from './modules/Sv.js'\n// import { htmlToVnode } from './modules/vnode.js'\n// import { render } from './modules/render.js'\n\nclass c1 extends Sv.Component {\n    constructor(props) {\n        super()\n        this.state = { ll: '333',ks:'css_ee',input:'input' }\n        this.store={st:23}\n        this.props=props\n    }\n\n    componentAfterMount() { /* 在第一次渲染后调用 */\n\n            console.log('watch  fn 2');\n\n            console.log(this.getComponent('c1'));\n            this.getComponent('c1').setState('ks','ssssss35f')\n\n    }\n    componentBeforeRender() {/* 在渲染前调用 */\n\n        this.setStore({'kss':111111},true)\n\n    }\n    componentAfterUpdate() {/* 在组件完成更新后立即调用。在初始化时不会被调用 */\n    }\n    componentBeforeRemove() {/* 在组件从 DOM 中移除之前被调用 */\n\n    }\n\n    methods = {\n        event: function (e) {\n            return \"event\"\n            // console.log('event');\n        }\n    }\n\n\n}\nclass c2 extends Sv.Component {\n    constructor() {\n        super()\n        this.state = { c2_1:'333',c2_2:'css_ee',input:'input' }\n        this.store={ c2_1: '333'}\n        // this.pipelineName='ksee';\n    }\n    methods = {\n        event: function (e) {\n            return \"event\"\n        }\n    }\n    componentMount(){\n        this.setStore({'kss2':2222},true)\n        // this.setStore({'kfff':3666},true)\n        this.setState({ c2_1:'333;;klkll','test_var_state': 'test_var_state','test_var_state2': 3333 })\n    \n    \n        this.pipeline.set({'ipe':6655566})\n    }\n    componentBeforeRender() {/* 在渲染a调用 */\n        // this.setState({ 'test_var_state': '3336445465','test_var_state2': 'test_var_state23333' })\n\n    }\n    componentAfterRender(){\n        this.setState({ 'test_var_state': '3336445465','test_var_state2': 'test_var_state2111' })\n    }\n\n    template(){\n        return `\n                <div id=\"d\" class=\"kk\" style=\"color:red\">\n                    <div>555</div>\n                    <p class=\"1p\" style=\"display:block;height: 100px;\">\n                        <span class=\"span\">内容</span>\n                        <span class=\"span\">内容2</span>\n                        <span class=\"span\">内容3</span>\n                        <span class=\"span\">内容4</span>\n                    </p>\n                    <h1 id=\"d2\" class=\"kk\">{this.methods.event}</h1>\n\n                    <input v-event=\"kk\" value=\"{this.methods.event}\"></input>\n                    <input v-event=\"kk\" value=\"{this.state.input}\"></input>\n                    <p>{this.state.input}</p>\n\n                    <div class=\"{this.state.c2_1}\">{this.state.c2_1}wo de{this.state.c2_1}</div>\n                    <div class=\"{this.state.c2_2}\">{this.state.test_var_state}</div>\n\n                    <p>{this.state.test_var_state2}</p>\n\n                    <div class=\"\">{this.methods.event}</div>\n\n                    <p class=\"p2\">\n                        <span>222</span>\n                    </p>\n                </div>\n        `\n    }\n}\nclass c3 extends Sv.Component {\n    constructor() {\n        super()\n        this.state={}\n        this.store={}\n    }\n}\n\nSv.registerComponent(c1,c2,c3)\n\nlet s=Sv.use({'c1':{_el:'#dddd2','kk':636,'s':333},'c2':{_el:'#dddd2'},'c3':{}})\n// console.log(new c1());\n\n\n\n\n\n"],"names":["Component","constructor","props","_Exception","current","color","error","msg","window","console","warn","Exception","componentStore","set","o","sign","pipeline","localStorage","getItem","_pipelineSign","obj","JSON","parse","store","Object","assign","setItem","stringify","_global_store_sign","storeObj","get","key","init","directive","dom","content","arr","compObj","input","event","tagName","replace","el","addEventListener","setState","value","parallelism","keyName","id","type","parallelism_flash","vo","parallelism_f","indexOf","push","analysis","attr","status","temIdentifying_select","temIdentifying_replace","temp","match","forEach","i","self","cobjv","text","split","length","res","join","one","result","createElement","vdom","orderPrefix","parentNode","document","pid","attributes","sty","style","setAttribute","test","innerText","appendChild","querySelector","render","config","_analysis","template","RegExp","htmlToVnode","element","vnode","count","div","innerHTML","vNode","root","parentEl","toLowerCase","name","firstChild","nodeValue","nodeObj","index","Array","from","recursion","nodeArr","prototype","slice","call","children","isFunction","nodeType","isString","isObject","Sv","create","_version","_name","components","domReadyFn","_init","removeItem","globalStorage","fn","mergeConfig","domReady","registerModule","mName","hasOwnProperty","registerComponent","cName","getPrototypeOf","defineProperty","Wobj","setFn","getFn","wacth","use","comParam","arg","_componentList","componentObj","comParamList","entries","compName","component","state","_pipeline","_status","_parentNode","_el","setStore","getStore","_in","_su","getState","getComponent","pipelineName","componentMount","html","_html","componentBeforeRender","componentAfterRender","componentAfterUpdate","componentUnMount","_class","getAttribute","_style","log","c1","ll","ks","st","componentAfterMount","componentBeforeRemove","methods","e","c2","c2_1","c2_2","c3"],"mappings":"AAAO,MAAMA,SAAS,CAAA;EAClBC,WAAW,CAACC,KAAK,EAAE,EACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;;ACfA,MAAMC,UAAU,CAAC;EACbF,WAAW,CAACC,KAAK,EAAE;AACf,IAAA,IAAI,CAACE,OAAO,GAACF,KAAK,CAACE,OAAO,CAAA;IAC1B,IAAI,CAACC,KAAK,GAAC;AACP,MAAA,OAAO,EAAC,WAAW;AACnB,MAAA,MAAM,EAAG,EAAA;KACZ,CAAA;AACL,GAAA;EACAC,KAAK,CAACC,GAAG,EAAC;AACN,IAAA,IAAI,IAAI,CAACH,OAAO,KAAGI,MAAM,EAAE;AACvBC,MAAAA,OAAO,CAACH,KAAK,CAAC,IAAI,GAACC,GAAG,EAAC,IAAI,CAACF,KAAK,CAACC,KAAK,CAAC,CAAA;AAC5C,KAEA;AACJ,GAAA;EACAI,IAAI,CAACH,GAAG,EAAC;AACL,IAAA,IAAI,IAAI,CAACH,OAAO,KAAGI,MAAM,EAAE;AACvBC,MAAAA,OAAO,CAACC,IAAI,CAAC,IAAI,GAACH,GAAG,EAAC,IAAI,CAACF,KAAK,CAACK,IAAI,CAAC,CAAA;AAC1C,KAEA;AACJ,GAAA;AAEJ,CAAA;AACA,MAAMC,SAAS,GAAC,IAAIR,UAAU,CAAC;AAAC,EAAA,SAAS,EAACK,MAAAA;AAAM,CAAC,CAAC;;ACtBlD,MAAMI,cAAc,CAAC;EACjBX,WAAW,CAACC,KAAK,EAAE;AACf,IAAA,IAAI,CAACE,OAAO,GAAGF,KAAK,CAACE,OAAO,CAAA;IAC5B,IAAI,CAACF,KAAK,GAAGA,KAAK,CAAA;AACtB,GAAA;AACAW,EAAAA,GAAG,CAACC,CAAC,EAACC,IAAI,EAAE;AACR,IAAA,IAAIA,IAAI,EAAE;AACN,MAAA,IAAIC,QAAQ,GAAG,IAAI,CAACZ,OAAO,CAACa,YAAY,CAACC,OAAO,CAAC,IAAI,CAAChB,KAAK,CAACiB,aAAa,CAAC,CAAA;AAC1E,MAAA,IAAIC,GAAG,GAACC,IAAI,CAACC,KAAK,CAACN,QAAQ,CAAC,CAAA;AAC5B,MAAA,IAAI,CAACI,GAAG,CAACL,IAAI,CAAC,EAAE;AACZK,QAAAA,GAAG,CAACL,IAAI,CAAC,GAAC,EAAE,CAAA;AAChB,OAAA;AACA,MAAA,IAAIQ,KAAK,GAACH,GAAG,CAACL,IAAI,CAAC,CAAA;AACnBS,MAAAA,MAAM,CAACC,MAAM,CAACF,KAAK,EAACT,CAAC,CAAC,CAAA;AACtBU,MAAAA,MAAM,CAACC,MAAM,CAACL,GAAG,EAAC;AAAC,QAAA,CAACL,IAAI,GAAIQ,KAAAA;AAAK,OAAC,CAAC,CAAA;AACnC,MAAA,IAAI,CAACnB,OAAO,CAACa,YAAY,CAACS,OAAO,CAAC,IAAI,CAACxB,KAAK,CAACiB,aAAa,EAACE,IAAI,CAACM,SAAS,CAACP,GAAG,CAAC,CAAC,CAAA;AAC/E,MAAA,OAAOA,GAAG,CAAA;AACd,KAAC,MAAM;AACH,MAAA,IAAIG,KAAK,GAAG,IAAI,CAACnB,OAAO,CAACa,YAAY,CAACC,OAAO,CAAC,IAAI,CAAChB,KAAK,CAAC0B,kBAAkB,CAAC,CAAA;MAC5E,IAAIC,QAAQ,GAAGR,IAAI,CAACC,KAAK,CAACC,KAAK,CAAC,IAAE,EAAE,CAAA;AACpCC,MAAAA,MAAM,CAACC,MAAM,CAACI,QAAQ,EAAEf,CAAC,CAAC,CAAA;AAC1B,MAAA,IAAI,CAACV,OAAO,CAACa,YAAY,CAACS,OAAO,CAAC,IAAI,CAACxB,KAAK,CAAC0B,kBAAkB,EAACP,IAAI,CAACM,SAAS,CAACE,QAAQ,CAAC,CAAC,CAAA;MACzF,OAAO,IAAI,CAACzB,OAAO,CAACa,YAAY,CAAC,IAAI,CAACf,KAAK,CAAC0B,kBAAkB,CAAC,CAAA;AACnE,KAAA;AAEJ,GAAA;AACAE,EAAAA,GAAG,CAACC,GAAG,EAAChB,IAAI,EAAE;AACV,IAAA,IAAIQ,KAAK,CAAA;AACT,IAAA,IAAIR,IAAI,EAAE;AACN,MAAA,IAAIC,QAAQ,GAAG,IAAI,CAACZ,OAAO,CAACa,YAAY,CAACC,OAAO,CAAC,IAAI,CAAChB,KAAK,CAACiB,aAAa,CAAC,CAAA;AAC1E,MAAA,IAAIC,GAAG,GAACC,IAAI,CAACC,KAAK,CAACN,QAAQ,CAAC,CAAA;AAC5BO,MAAAA,KAAK,GAACH,GAAG,CAACL,IAAI,CAAC,CAAA;AAEnB,KAAC,MAAM;AACHQ,MAAAA,KAAK,GAAG,IAAI,CAACnB,OAAO,CAACa,YAAY,CAACC,OAAO,CAAC,IAAI,CAAChB,KAAK,CAAC0B,kBAAkB,CAAC,CAAA;AAC5E,KAAA;AAEA,IAAA,IAAIC,QAAQ,GAAG,OAAON,KAAM,KAAG,QAAQ,GAAGF,IAAI,CAACC,KAAK,CAACC,KAAK,CAAC,GAAGA,KAAK,CAAA;IACnE,OAAOM,QAAQ,CAACE,GAAG,CAAC,CAAA;AACxB,GAAA;EACAC,IAAI,CAAClB,CAAC,EAAC;AACH,IAAA,IAAI,CAACV,OAAO,CAACa,YAAY,CAACS,OAAO,CAAC,IAAI,CAACxB,KAAK,CAAC0B,kBAAkB,EAAE,IAAI,CAAC,CAAA;AACtE,IAAA,IAAI,CAACxB,OAAO,CAACa,YAAY,CAACS,OAAO,CAAC,IAAI,CAACxB,KAAK,CAACiB,aAAa,EAAE,IAAI,CAAC,CAAA;AACrE,GAAA;AACJ;;AC7CA;AACA,SAASc,SAAS,CAACC,GAAG,EAAEC,OAAO,EAAEC,GAAG,EAAEC,OAAO,EAAE;AAC3C,EAAA,IAAIC,KAAK,GAAG;AACRC,IAAAA,KAAK,EAAE,SAAA;GACV,CAAA;EACD,IAAIL,GAAG,CAACM,OAAO,IAAI,OAAO,IAAIN,GAAG,CAACM,OAAO,IAAI,UAAU,EAAE;AACrDF,IAAAA,KAAK,CAACC,KAAK,GAAGD,KAAK,CAACC,KAAK,CAACE,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAA;IAC/CP,GAAG,CAACQ,EAAE,CAACC,gBAAgB,CAACL,KAAK,CAACC,KAAK,EAAE,YAAY;AAC7C,MAAA,IAAIH,GAAG,CAAC,CAAC,CAAC,KAAK,OAAO,EAAE;QACpBC,OAAO,CAACO,QAAQ,CAAC;UAAE,CAACR,GAAG,CAAC,CAAC,CAAC,GAAGF,GAAG,CAACQ,EAAE,CAACG,KAAAA;AAAM,SAAC,CAAC,CAAA;AAChD,OAAA;KACH,EAAE,KAAK,CAAC,CAAA;AACb,GAAA;AACJ,CAAA;AACA;AACA,SAASC,WAAW,CAACC,OAAO,EAAEV,OAAO,EAAEG,OAAO,EAAEQ,EAAE,EAAEC,IAAI,EAAElB,GAAG,EAAEc,KAAK,EAAEK,iBAAiB,EAAE;AACrF,EAAA,IAAIC,EAAE,GAAG;AACLX,IAAAA,OAAO,EAAEA,OAAO;AAChBQ,IAAAA,EAAE,EAAEA,EAAE;AACNC,IAAAA,IAAI,EAAEA,IAAI;AACVlB,IAAAA,GAAG,EAAEkB,IAAI,KAAK,MAAM,GAAG,EAAE,GAAGlB,GAAG;AAC/Bc,IAAAA,KAAK,EAAEA,KAAAA;GACV,CAAA;AAED,EAAA,IAAIC,WAAW,GAAGT,OAAO,CAACS,WAAW,CAACC,OAAO,CAAC,CAAA;AAC9C,EAAA,IAAIK,aAAa,GAAGF,iBAAiB,CAACH,OAAO,CAAC,CAAA;AAC9C,EAAA,IAAI,CAACD,WAAW,IAAI,CAACM,aAAa,EAAE;IAChCf,OAAO,CAACS,WAAW,CAACC,OAAO,CAAC,GAAG,CAACI,EAAE,CAAC,CAAA;IACnCD,iBAAiB,CAACH,OAAO,CAAC,GAAG,CAAC1B,IAAI,CAACM,SAAS,CAACwB,EAAE,CAAC,CAAC,CAAA;AACrD,GAAC,MAAM;AACH,IAAA,IAAIC,aAAa,CAACC,OAAO,CAAChC,IAAI,CAACM,SAAS,CAACwB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;AACjDL,MAAAA,WAAW,CAACQ,IAAI,CAACH,EAAE,CAAC,CAAA;MACpBC,aAAa,CAACE,IAAI,CAACjC,IAAI,CAACM,SAAS,CAACwB,EAAE,CAAC,CAAC,CAAA;AAC1C,KAAA;AACJ,GAAA;AACA,EAAA,OAAOA,EAAE,CAAA;AACb,CAAA;AACA;AACA;AACA;AACA;AACA,SAASI,QAAQ,CAACrB,GAAG,EAAEG,OAAO,EAAEY,IAAI,EAAEO,IAAI,EAAEX,KAAK,EAAEY,MAAM,EAAEP,iBAAiB,EAAEQ,qBAAqB,EAAEC,sBAAsB,EAAE;AACzH,EAAA,IAAIxB,OAAO,CAAA;AACX,EAAA,IAAIyB,IAAI,GAAGf,KAAK,CAACgB,KAAK,CAACH,qBAAqB,CAAC,CAAA;AAC7C,EAAA,IAAIE,IAAI,EAAE;IACNA,IAAI,CAACE,OAAO,CAAC,CAAC/B,GAAG,EAAEgC,CAAC,EAAEC,IAAI,KAAK;AAC3B,MAAA,IAAIC,KAAK,CAAA;AACT,MAAA,IAAIC,IAAI,CAAA;MACR,IAAI9B,GAAG,GAAGL,GAAG,CAACU,OAAO,CAACkB,sBAAsB,EAAE,EAAE,CAAC,CAAClB,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC0B,KAAK,CAAC,GAAG,CAAC,CAAA;AACnF,MAAA,IAAI/B,GAAG,CAACgC,MAAM,IAAI,CAAC,EAAE;AACjBH,QAAAA,KAAK,GAAG5B,OAAO,CAACD,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;AAC3B,OAAA;AACA,MAAA,IAAIA,GAAG,CAACgC,MAAM,IAAI,CAAC,EAAE;AACjBH,QAAAA,KAAK,GAAG5B,OAAO,CAACD,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;AACnC,OAAA;AACA,MAAA,IAAIA,GAAG,CAACgC,MAAM,IAAI,CAAC,EAAE;AACjBH,QAAAA,KAAK,GAAG5B,OAAO,CAACD,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;AAC3C,OAAA;AACA,MAAA,IAAIA,GAAG,CAACgC,MAAM,IAAI,CAAC,EAAE;QACjBH,KAAK,GAAG5B,OAAO,CAACD,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;AACnD,OAAA;AACA,MAAA,IAAI,OAAQ6B,KAAM,IAAI,UAAU,EAAE;QAC9B,IAAII,GAAG,GAAGJ,KAAK,EAAE,CAAA;AACjB,QAAA,IAAI,OAAQI,GAAI,KAAK,QAAQ,EAAE;AAC3BH,UAAAA,IAAI,GAAGG,GAAG,CAAA;AACd,SAAC,MAAM;AACH1D,UAAAA,SAAS,CAACL,KAAK,CAACyB,GAAG,GAAG,gBAAgB,CAAC,CAAA;AAC3C,SAAA;AACJ,OAAA;AACA,MAAA,IAAI,OAAQkC,KAAM,IAAI,QAAQ,EAAE;AAC5BC,QAAAA,IAAI,GAAGD,KAAK,CAAA;AAChB,OAAA;AACA,MAAA,IAAID,IAAI,CAACI,MAAM,GAAG,CAAC,IAAIjC,OAAO,EAAE;QAC5BA,OAAO,GAAGA,OAAO,CAACM,OAAO,CAACV,GAAG,EAAEmC,IAAI,CAAC,CAAA;AACxC,OAAC,MAAM;QACH/B,OAAO,GAAGU,KAAK,CAACJ,OAAO,CAACV,GAAG,EAAEmC,IAAI,CAAC,CAAA;AACtC,OAAA;AACA,MAAA,IAAIT,MAAM,EAAE;AACR,QAAA,IAAIrB,GAAG,CAAC,CAAC,CAAC,KAAK,OAAO,EAAE;AACpB,UAAA,IAAIW,OAAO,GAAGX,GAAG,CAACkC,IAAI,CAAC,GAAG,CAAC,CAAA;UAC3BxB,WAAW,CAACC,OAAO,EAAEV,OAAO,EAAEH,GAAG,CAACM,OAAO,EAAEN,GAAG,CAACc,EAAE,EAAEC,IAAI,EAAEO,IAAI,EAAEX,KAAK,EAAEK,iBAAiB,CAAC,CAAA;AAC5F,SAAA;AACA;QACA,IAAIqB,GAAG,GAAG,IAAI,CAAA;QACd,IAAItC,SAAS,IAAIsC,GAAG,EAAE;UAClB,IAAIC,MAAM,GAAGvC,SAAS,CAACC,GAAG,EAAEC,OAAO,EAAEC,GAAG,EAAEC,OAAO,CAAC,CAAA;UAClD,OAAQmC,MAAO,KAAK,QAAQ,GAAGrC,OAAO,GAAGqC,MAAM,GAAG,IAAI,CAAA;AACtDD,UAAAA,GAAG,GAAG,KAAK,CAAA;AACf,SAAA;AACJ,OAAA;AACJ,KAAC,CAAC,CAAA;AACN,GAAC,MAAM;AACHpC,IAAAA,OAAO,GAAGU,KAAK,CAAA;AACnB,GAAA;AACA,EAAA,OAAOV,OAAO,CAAA;AAClB,CAAA;AACA,SAASsC,aAAa,CAACC,IAAI,EAAErC,OAAO,EAAEqB,qBAAqB,EAAEC,sBAAsB,EAAET,iBAAiB,EAAEyB,WAAW,EAAE;EACjH,IAAIC,UAAU,GAAG,IAAI,CAAA;AACrBF,EAAAA,IAAI,CAACZ,OAAO,CAAC,CAAC/B,GAAG,EAAEgC,CAAC,KAAK;AACrB,IAAA,IAAI7B,GAAG,GAAG;MACNQ,EAAE,EAAEmC,QAAQ,CAACJ,aAAa,CAAC1C,GAAG,CAACS,OAAO,CAAC;MACvCQ,EAAE,EAAEjB,GAAG,CAACiB,EAAE;MACV8B,GAAG,EAAE/C,GAAG,CAAC+C,GAAG;MACZtC,OAAO,EAAET,GAAG,CAACS,OAAO;AACpB0B,MAAAA,IAAI,EAAEnC,GAAG,CAAC7B,KAAK,CAACgE,IAAI;AACpBa,MAAAA,UAAU,EAAEhD,GAAG,CAAC7B,KAAK,CAAC6E,UAAAA;KACzB,CAAA;IACD,IAAIC,GAAG,GAAG3D,IAAI,CAACM,SAAS,CAACI,GAAG,CAAC7B,KAAK,CAAC+E,KAAK,CAAC,CAACxC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,IAAI,EAAE,CAAA;IAE1EP,GAAG,CAACQ,EAAE,CAACwC,YAAY,CAAC,iBAAiB,EAAEhD,GAAG,CAACc,EAAE,CAAC,CAAA;AAE9C,IAAA,IAAId,GAAG,CAAC6C,UAAU,CAACE,KAAK,EAAE;MACtB/C,GAAG,CAAC6C,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,GAAGC,GAAG,CAAA;KACvC,MAAM,IAAIA,GAAG,EAAE;AACZ9C,MAAAA,GAAG,CAAC6C,UAAU,CAAC,OAAO,CAAC,GAAGC,GAAG,CAAA;AACjC,KAAA;IAEA,IAAI9C,GAAG,CAACgC,IAAI,EAAE;MACV,IAAIR,qBAAqB,CAACyB,IAAI,CAACjD,GAAG,CAACgC,IAAI,CAAC,EAAE;QACtC,IAAIA,IAAI,GAAGX,QAAQ,CAACrB,GAAG,EAAEG,OAAO,EAAE,MAAM,EAAE,EAAE,EAAEH,GAAG,CAACgC,IAAI,EAAE,IAAI,EAAEhB,iBAAiB,EAAEQ,qBAAqB,EAAEC,sBAAsB,CAAC,CAAA;AAC/HzB,QAAAA,GAAG,CAACQ,EAAE,CAAC0C,SAAS,GAAGlB,IAAI,CAAA;AAC3B,OAAC,MAAM;AACHhC,QAAAA,GAAG,CAACQ,EAAE,CAAC0C,SAAS,GAAGlD,GAAG,CAACgC,IAAI,CAAA;AAC/B,OAAA;AACJ,KAAA;IAEA,IAAI7C,IAAI,CAACM,SAAS,CAACO,GAAG,CAAC6C,UAAU,CAAC,KAAK,IAAI,EAAE;AACzC,MAAA,KAAK,MAAMhD,GAAG,IAAIG,GAAG,CAAC6C,UAAU,EAAE;AAC9B,QAAA,IAAIvB,IAAI,CAAA;QACR,IAAIE,qBAAqB,CAACyB,IAAI,CAACjD,GAAG,CAAC6C,UAAU,CAAChD,GAAG,CAAC,CAAC,EAAE;UACjDyB,IAAI,GAAGD,QAAQ,CAACrB,GAAG,EAAEG,OAAO,EAAE,WAAW,EAAEN,GAAG,EAAEG,GAAG,CAAC6C,UAAU,CAAChD,GAAG,CAAC,EAAE,IAAI,EAAEmB,iBAAiB,EAAEQ,qBAAqB,EAAEC,sBAAsB,CAAC,CAAA;AAEhJ,SAAC,MAAM;AACHH,UAAAA,IAAI,GAAGtB,GAAG,CAAC6C,UAAU,CAAChD,GAAG,CAAC,CAAA;AAC9B,SAAA;AACA,QAAA,IAAI,CAAC4C,WAAW,CAACQ,IAAI,CAACpD,GAAG,CAAC,EAAE;UACxBG,GAAG,CAACQ,EAAE,CAACwC,YAAY,CAACnD,GAAG,EAAEyB,IAAI,CAAC,CAAA;AAClC,SAAA;AACJ,OAAA;AACJ,KAAA;IACA,IAAI,CAACoB,UAAU,EAAE;MACbA,UAAU,GAAG1C,GAAG,CAACQ,EAAE,CAAA;AACvB,KAAC,MAAM;AACH,MAAA,IAAIR,GAAG,CAAC4C,GAAG,KAAK,CAAC,EAAE;AACfF,QAAAA,UAAU,CAACS,WAAW,CAACnD,GAAG,CAACQ,EAAE,CAAC,CAAA;AAClC,OAAC,MAAM;AACHkC,QAAAA,UAAU,CAACU,aAAa,CAAC,oBAAoB,GAAGpD,GAAG,CAAC4C,GAAG,GAAG,IAAI,CAAC,CAACO,WAAW,CAACnD,GAAG,CAACQ,EAAE,CAAC,CAAA;AACvF,OAAA;AACJ,KAAA;AACJ,GAAC,CAAC,CAAA;AACF,EAAA,OAAOkC,UAAU,CAAA;AACrB,CAAA;AAEA,SAASW,MAAM,CAACb,IAAI,EAAErC,OAAO,EAAEmD,MAAM,EAAEC,SAAS,EAAE;EAC9C,IAAIb,UAAU,GAAG,IAAI,CAAA;EACrB,IAAID,WAAW,GAAG,SAAS,CAAA;EAC3B,IAAIzB,iBAAiB,GAAG,EAAE,CAAA;EAC1B,IAAIQ,qBAAqB,GAAG,YAAY,CAAA;EACxC,IAAIC,sBAAsB,GAAG,QAAQ,CAAA;AAErC,EAAA,IAAI6B,MAAM,CAACE,QAAQ,KAAK,MAAM,EAAE;AAC5BhC,IAAAA,qBAAqB,GAAG,IAAIiC,MAAM,CAAC,eAAe,CAAC,CAAA;AACnDhC,IAAAA,sBAAsB,GAAG,IAAIgC,MAAM,CAAC,cAAc,CAAC,CAAA;AACvD,GAAA;EACA,IAAIH,MAAM,CAACb,WAAW,EAAE;AACpBA,IAAAA,WAAW,GAAG,IAAIgB,MAAM,CAAC,IAAI,GAAGH,MAAM,CAACb,WAAW,GAAG,GAAG,EAAE,IAAI,CAAC,CAAA;AACnE,GAAA;AACA,EAAA,IAAI,OAAQc,SAAU,KAAK,QAAQ,EAAE;IACjC,OAAOlC,QAAQ,CAAC,EAAE,EAAElB,OAAO,EAAE,EAAE,EAAEoD,SAAS,CAAC1D,GAAG,EAAE0D,SAAS,CAAC5C,KAAK,EAAE,KAAK,EAAEK,iBAAiB,EAAEQ,qBAAqB,EAAEC,sBAAsB,CAAC,CAAA;AAC7I,GAAA;AACAiB,EAAAA,UAAU,GAAGH,aAAa,CAACC,IAAI,EAAErC,OAAO,EAAEqB,qBAAqB,EAAEC,sBAAsB,EAAET,iBAAiB,EAAEyB,WAAW,CAAC,CAAA;AACxH,EAAA,OAAOC,UAAU,CAAA;AAGrB;;AC/KA,SAASgB,WAAW,CAACC,OAAO,EAAE;EAC1B,IAAIC,KAAK,GAAG,EAAE,CAAA;EACd,IAAIC,KAAK,GAAG,CAAC,CAAA;AACb,EAAA,IAAI,OAAOF,OAAO,KAAG,QAAQ,EAAE;AAC3B,IAAA,IAAIG,GAAG,GAACnB,QAAQ,CAACJ,aAAa,CAAC,KAAK,CAAC,CAAA;IACrCuB,GAAG,CAACC,SAAS,GAACJ,OAAO,CAAA;AACrBA,IAAAA,OAAO,GAACG,GAAG,CAAA;AACf,GAAA;EACA,SAASE,KAAK,CAACxD,EAAE,EAAEtB,GAAG,EAAE+E,IAAI,EAACC,QAAQ,EAAE;AACnC;AACA,IAAA,IAAI5D,OAAO,GAAGE,EAAE,CAACF,OAAO,CAAC6D,WAAW,EAAE,CAAA;IACtC,IAAIC,IAAI,GAAG9D,OAAO,KAAK,KAAK,GAAG,MAAM,GAAGA,OAAO,KAAK,KAAK,GAAG,OAAO,GAAGA,OAAO,KAAK,OAAO,GAAG,WAAW,GAAGA,OAAO,CAAA;AACjH,IAAA,IAAI0B,IAAI,GAACkC,QAAQ,GAAE,IAAI,GAAC1D,EAAE,CAAC6D,UAAU,GAAG7D,EAAE,CAAC6D,UAAU,CAACC,SAAS,GAAC,IAAI,CAAA;AACpE,IAAA,IAAI,OAAOtC,IAAK,KAAG,QAAQ,IAAEA,IAAI,CAACzB,OAAO,CAAC,WAAW,EAAC,EAAE,CAAC,KAAG,EAAE,EAAE;AAC5DyB,MAAAA,IAAI,GAAC,IAAI,CAAA;AACb,KAAA;AACA,IAAA,IAAIuC,OAAO,GAAG;AACVjE,MAAAA,OAAO,EAAEA,OAAO;AAChBQ,MAAAA,EAAE,EAAE5B,GAAG,CAAC4B,EAAE,IAAI+C,KAAK;AACnBW,MAAAA,KAAK,EAAEtF,GAAG,CAACsF,KAAK,IAAI,IAAI;AACxB5B,MAAAA,GAAG,EAAE1D,GAAG,CAAC0D,GAAG,IAAIqB,IAAI,IAAI,MAAM;AAC9BG,MAAAA,IAAI,EAAEA,IAAI;AACVpG,MAAAA,KAAK,EAAE;QACH6E,UAAU,EAAE,EAAE;AACdb,QAAAA,IAAI,EAAEA,IAAI;AACVe,QAAAA,KAAK,EAAE,EAAC;AACZ,OAAA;KACH,CAAA;AACD0B,IAAAA,KAAK,CAACC,IAAI,CAAClE,EAAE,CAACqC,UAAU,CAAC,CAACjB,OAAO,CAAC,CAAC/B,GAAG,EAAEgC,CAAC,KAAK;AAC1C0C,MAAAA,OAAO,CAACvG,KAAK,CAAC6E,UAAU,CAAChD,GAAG,CAACuE,IAAI,CAAC,GAAGvE,GAAG,CAACc,KAAK,IAAE,EAAE,CAAA;AACtD,KAAC,CAAC,CAAA;AACF,IAAA,OAAO4D,OAAO,CAAA;AAClB,GAAA;AAEA,EAAA,SAASI,SAAS,CAAChB,OAAO,EAAEf,GAAG,EAAE9B,EAAE,EAAE;AACjC,IAAA,IAAI8D,OAAO,GAAGH,KAAK,CAACI,SAAS,CAACC,KAAK,CAACC,IAAI,CAACpB,OAAO,CAACqB,QAAQ,CAAC,CAAA;AAC1D,IAAA,IAAIJ,OAAO,CAAC1C,MAAM,GAAG,CAAC,EAAE;AACpB0C,MAAAA,OAAO,CAAChD,OAAO,CAAC,CAAC/B,GAAG,EAAEgC,CAAC,KAAK;AACxBgC,QAAAA,KAAK,EAAE,CAAA;AACPD,QAAAA,KAAK,CAACxC,IAAI,CAAC4C,KAAK,CAACnE,GAAG,EAAE;AAAEiB,UAAAA,EAAE,EAAE+C,KAAK;UAAEjB,GAAG,EAAEA,GAAG,IAAIiB,KAAAA;AAAM,SAAC,CAAC,CAAC,CAAA;AACxDc,QAAAA,SAAS,CAAC9E,GAAG,EAACgE,KAAW,CAAC,CAAA;AAC9B,OAAC,CAAC,CAAA;AACN,KAAA;AACJ,GAAA;AACAD,EAAAA,KAAK,CAACxC,IAAI,CAAC4C,KAAK,CAACL,OAAO,EAAE,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC,CAAA;AACxCgB,EAAAA,SAAS,CAAChB,OAAO,EAAEE,KAAK,CAAC,CAAA;AACzB,EAAA,OAAOD,KAAK,CAAA;AAChB;;AC/CO,SAASqB,UAAU,CAAE/F,GAAG,EAAC;AAC5B;AACA;AACA;EACA,OAAO,OAAOA,GAAG,KAAK,UAAU,IAAI,OAAOA,GAAG,CAACgG,QAAQ,KAAK,QAAQ,CAAA;AACxE,CAAA;AAIO,SAASC,QAAQ,CAAEjG,GAAG,EAAC;EAE1B,OAAO,OAAOA,GAAG,KAAG,QAAQ,CAAA;AAChC,CAAA;AACO,SAASkG,QAAQ,CAAElG,GAAG,EAAC;EAC1B,OAAO,OAAOA,GAAG,KAAG,QAAQ,CAAA;AAChC;;ACRA,MAAMmG,EAAE,GAAG/F,MAAM,CAACgG,MAAM,CAAC,EAAE,CAAC,CAAA;AAC5BD,EAAE,CAACE,QAAQ,GAAG,KAAK,CAAA;AACnBF,EAAE,CAACG,KAAK,GAAG,IAAI,CAAA;AACfH,EAAE,CAAC/B,MAAM,GAAG;AACRE,EAAAA,QAAQ,EAAE,IAAI;AACdf,EAAAA,WAAW,EAAE,EAAE;AACfvE,EAAAA,OAAO,EAAEI,MAAM;AACfoB,EAAAA,kBAAkB,EAAE,cAAc;AAClCT,EAAAA,aAAa,EAAE,qBAAA;AAEnB,CAAC,CAAA;AAEDoG,EAAE,CAACI,UAAU,GAAG,EAAE,CAAA;AAClBJ,EAAE,CAACvH,SAAS,GAAGA,SAAS,CAAA;AACxBuH,EAAE,CAAChC,MAAM,GAAGA,MAAM,CAAA;AAClB;AACAgC,EAAE,CAACK,UAAU,GAAG,EAAE,CAAA;AAGlBL,EAAE,CAACM,KAAK,GAAG,CACP,YAAY;AACRN,EAAAA,EAAE,CAAC/B,MAAM,CAACpF,OAAO,CAACa,YAAY,CAAC6G,UAAU,CAACP,EAAE,CAAC/B,MAAM,CAAC5D,kBAAkB,CAAC,CAAA;AAC3E,CAAC,EACD,YAAY;EACR2F,EAAE,CAACQ,aAAa,GAAG,IAAInH,cAAc,CAAC2G,EAAE,CAAC/B,MAAM,CAAC,CAAA;AAChD+B,EAAAA,EAAE,CAACQ,aAAa,CAAC/F,IAAI,EAAE,CAAA;AAC3B,CAAC,EACD,YAAY;AACR6C,EAAAA,QAAQ,CAAClC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;AACtD4E,IAAAA,EAAE,CAACK,UAAU,CAAC9D,OAAO,CAACkE,EAAE,IAAI;AACxBA,MAAAA,EAAE,EAAE,CAAA;AACR,KAAC,CAAC,CAAA;GACL,EAAE,KAAK,CAAC,CAAA;AACb,CAAC,CACJ,CAAA;AACDT,EAAE,CAACU,WAAW,GAAG,UAAUnH,CAAC,EAAE;EAC1BU,MAAM,CAACC,MAAM,CAAC8F,EAAE,CAAC/B,MAAM,EAAE1E,CAAC,CAAC,CAAA;AAC/B,CAAC,CAAA;AACDyG,EAAE,CAACW,QAAQ,GAAG,UAAUF,EAAE,EAAE;AACxBT,EAAAA,EAAE,CAACK,UAAU,CAACtE,IAAI,CAAC0E,EAAE,CAAC,CAAA;AAC1B,CAAC,CAAA;AACDT,EAAE,CAACY,cAAc,GAAG,UAAUC,KAAK,EAAEJ,EAAE,EAAE;EACrC,IAAIX,QAAQ,CAACe,KAAK,CAAC,IAAIjB,UAAU,CAACa,EAAE,CAAC,EAAE;AACnC,IAAA,IAAI,IAAI,CAACK,cAAc,CAACD,KAAK,CAAC,EAAE;MAC5BzH,SAAS,CAACL,KAAK,CAAC,IAAI,GAAG8H,KAAK,GAAG,mBAAmB,CAAC,CAAA;AACvD,KAAC,MAAM;AACH,MAAA,IAAI,CAACA,KAAK,CAAC,GAAGJ,EAAE,EAAE,CAAA;AACtB,KAAA;AACJ,GAAC,MAAM;AACHrH,IAAAA,SAAS,CAACL,KAAK,CAAC,8CAA8C,CAAC,CAAA;AACnE,GAAA;AACJ,CAAC,CAAA;AACDiH,EAAE,CAACe,iBAAiB,GAAG,UAAU,GAAGC,KAAK,EAAE;AACvCA,EAAAA,KAAK,CAACzE,OAAO,CAAC/B,GAAG,IAAI;IACjB,IAAIP,MAAM,CAACgH,cAAc,CAACzG,GAAG,CAAC,KAAK/B,SAAS,EAAE;MAC1C,IAAI,IAAI,CAAC2H,UAAU,CAACU,cAAc,CAACtG,GAAG,CAACuE,IAAI,CAAC,EAAE;QAC1C3F,SAAS,CAACL,KAAK,CAAC,IAAI,GAAGyB,GAAG,CAACuE,IAAI,GAAG,mBAAmB,CAAC,CAAA;AACtD,QAAA,OAAO,KAAK,CAAA;AAChB,OAAC,MAAM;QACH,IAAI,CAACqB,UAAU,CAAC5F,GAAG,CAACuE,IAAI,CAAC,GAAGvE,GAAG,CAAA;AACnC,OAAA;AACJ,KAAC,MAAM;MACHpB,SAAS,CAACL,KAAK,CAAC,IAAI,GAAGyB,GAAG,CAACuE,IAAI,GAAG,yBAAyB,CAAC,CAAA;AAC5D,MAAA,OAAO,KAAK,CAAA;AAChB,KAAA;AACJ,GAAC,CAAC,CAAA;AACN,CAAC,CAAA;AACDiB,EAAE,CAACkB,cAAc,GAAG,UAAUC,IAAI,EAAC3G,GAAG,EAAC4G,KAAK,EAAEC,KAAK,EAAE;AACjD,EAAA,IAAI7G,GAAG,EAAE;AACL8G,IAAAA,KAAK,CAACH,IAAI,EAAE3G,GAAG,CAAC,CAAA;AACpB,GAAC,MAAM;AACH,IAAA,KAAK,MAAMA,GAAG,IAAI2G,IAAI,EAAE;AACpBG,MAAAA,KAAK,CAACH,IAAI,EAAE3G,GAAG,CAAC,CAAA;AACpB,KAAA;AACJ,GAAA;AAEA,EAAA,SAAS8G,KAAK,CAACH,IAAI,EAAE3G,GAAG,EAAE;IACtBP,MAAM,CAACiH,cAAc,CAACC,IAAI,EAAE,GAAG,GAAG3G,GAAG,GAAG,GAAG,EAAE;AACzCD,MAAAA,GAAG,EAAE,YAAY;AACb,QAAA,IAAIqF,UAAU,CAACwB,KAAK,CAAC,EAAE;UACnBC,KAAK,CAAC7G,GAAG,CAAC,CAAA;AACd,SAAA;QACA,OAAO2G,IAAI,CAAC3G,GAAG,CAAC,CAAA;OACnB;MACDlB,GAAG,EAAE,UAAUgC,KAAK,EAAE;AAClB6F,QAAAA,IAAI,CAAC3G,GAAG,CAAC,GAAGc,KAAK,CAAA;AACjB,QAAA,IAAIsE,UAAU,CAACwB,KAAK,CAAC,EAAE;AACnBA,UAAAA,KAAK,CAAC5G,GAAG,EAAEc,KAAK,CAAC,CAAA;AACrB,SAAA;AACJ,OAAA;AACJ,KAAC,CAAC,CAAA;AACN,GAAA;AACJ,CAAC,CAAA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA0E,EAAE,CAACuB,GAAG,GAAG,UAAUC,QAAQ,EAAEC,GAAG,EAAE;EAC9B,IAAIC,cAAc,GAAG,EAAE,CAAA;;AAEvB;AACA,EAAA,IAAI5B,QAAQ,CAAC0B,QAAQ,CAAC,EAAE;AACpB,IAAA,IAAIG,YAAY,GAAG3B,EAAE,CAACI,UAAU,CAACoB,QAAQ,CAAC,CAAA;IAC1C,IAAI,CAACG,YAAY,EAAE;MACfvI,SAAS,CAACL,KAAK,CAAC,IAAI,GAAGyI,QAAQ,GAAG,UAAU,CAAC,CAAA;AAC7CE,MAAAA,cAAc,GAAG,KAAK,CAAA;AACtB,MAAA,OAAA;AACJ,KAAA;AACJ,GAAA;AACA,EAAA,IAAI3B,QAAQ,CAACyB,QAAQ,CAAC,EAAE;AACpB;AACA,IAAA,IAAII,YAAY,GAAG3H,MAAM,CAAC4H,OAAO,CAACL,QAAQ,CAAC,CAAA;AAC3C,IAAA,KAAK,IAAIrC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGyC,YAAY,CAAC/E,MAAM,EAAEsC,KAAK,EAAE,EAAE;MACtD,IAAI2C,QAAQ,GAAGF,YAAY,CAACzC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;MACrC,IAAI7D,KAAK,GAAGsG,YAAY,CAACzC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;AAClC,MAAA,IAAI4C,SAAS,GAAG/B,EAAE,CAACI,UAAU,CAAC0B,QAAQ,CAAC,CAAA;AACvC,MAAA,IAAIC,SAAS,EAAE;AACX,QAAA,IAAIlI,GAAG,GAAG,IAAIkI,SAAS,CAACzG,KAAK,CAAC,CAAA;AAC9BzB,QAAAA,GAAG,CAACmI,KAAK,GAAG/H,MAAM,CAACC,MAAM,CAACL,GAAG,CAACmI,KAAK,IAAI,EAAE,EAAE,EAAE,CAAC,CAAA;AAC9CnI,QAAAA,GAAG,CAACG,KAAK,GAAGC,MAAM,CAACC,MAAM,CAACL,GAAG,CAACG,KAAK,IAAI,EAAE,EAAE,EAAE,CAAC,CAAA;AAC9CH,QAAAA,GAAG,CAAClB,KAAK,GAAGsB,MAAM,CAACC,MAAM,CAACL,GAAG,CAAClB,KAAK,IAAI,EAAE,EAAE2C,KAAK,CAAC,CAAA;AACjDzB,QAAAA,GAAG,CAAC0B,WAAW,GAAG,EAAE,CAAA;AACpB1B,QAAAA,GAAG,CAACoI,SAAS,GAAG,EAAE,CAAA;QAClBpI,GAAG,CAACqI,OAAO,GAAE,MAAM,CAAA;QACnBrI,GAAG,CAACsG,KAAK,GAAG2B,QAAQ,CAAA;QACpBjI,GAAG,CAACsI,WAAW,GAAGtI,GAAG,CAAClB,KAAK,CAACyJ,GAAG,IAAI,EAAE,CAAA;AACrC;AACApC,QAAAA,EAAE,CAACkB,cAAc,CAACrH,GAAG,CAACmI,KAAK,EAAC,IAAI,EAAE,UAAUxH,GAAG,EAAEc,KAAK,EAAE;UACpDC,WAAW,CAAC,QAAQ,GAAGf,GAAG,EAAEc,KAAK,EAAEzB,GAAG,CAAC,CAAA;AAC3C,SAAC,CAAC,CAAA;AACF;AACA;AACA6H,QAAAA,cAAc,CAACI,QAAQ,CAAC,GAAGjI,GAAG,CAAA;AAClC,OAAC,MAAM;QACHT,SAAS,CAACL,KAAK,CAAC,IAAI,GAAG+I,QAAQ,GAAG,UAAU,CAAC,CAAA;AAC7CJ,QAAAA,cAAc,GAAG,KAAK,CAAA;AACtB,QAAA,OAAA;AACJ,OAAA;AACJ,KAAA;AACA;AACA,IAAA,KAAK,IAAIlH,GAAG,IAAIkH,cAAc,EAAE;AAC5B,MAAA,IAAIC,YAAY,GAAGD,cAAc,CAAClH,GAAG,CAAC,CAAA;AACtCmH,MAAAA,YAAY,CAACU,QAAQ,GAAG,CAAC9I,CAAC,EAAEmC,IAAI,KAAK;AACjC,QAAA,IAAIqE,QAAQ,CAACxG,CAAC,CAAC,EAAE;UACbU,MAAM,CAACC,MAAM,CAACyH,YAAY,CAAC3H,KAAK,EAAET,CAAC,CAAC,CAAA;UACpC,IAAImC,IAAI,KAAK,IAAI,EAAE;AAAEsE,YAAAA,EAAE,CAACQ,aAAa,CAAClH,GAAG,CAACC,CAAC,EAAEoI,YAAY,CAACxB,KAAK,GAAG,QAAQ,CAAC,CAAA;AAAE,WAAA;AACjF,SAAC,MAAM;AACH/G,UAAAA,SAAS,CAACL,KAAK,CAAC,kBAAkB,CAAC,CAAA;AACvC,SAAA;OACH,CAAA;AACD4I,MAAAA,YAAY,CAACW,QAAQ,GAAG,CAAC9H,GAAG,EAAEkB,IAAI,KAAK;AACnC,QAAA,IAAIoE,QAAQ,CAACtF,GAAG,CAAC,EAAE;AACf,UAAA,OAAOmH,YAAY,CAAC3H,KAAK,CAACQ,GAAG,CAAC,CAAA;AAClC,SAAA;QACA,IAAIkB,IAAI,KAAK,IAAI,EAAE;AAAE,UAAA,OAAOsE,EAAE,CAACQ,aAAa,CAACjG,GAAG,CAACC,GAAG,EAAEmH,YAAY,CAACxB,KAAK,GAAG,QAAQ,CAAC,CAAA;AAAC,SAAA;OAExF,CAAA;AACDwB,MAAAA,YAAY,CAACtG,QAAQ,GAAIxB,GAAG,IAAK;AAC7B;;AAEA,QAAA,IAAIkG,QAAQ,CAAClG,GAAG,CAAC,EAAE;UACf,IAAI0I,GAAG,GAAG,EAAE;YAAEC,GAAG,GAAG,EAAE,CAAA;AAEtB,UAAA;AACI,YAAA,KAAK,MAAMhI,GAAG,IAAIX,GAAG,EAAE;AACnB;AACA,cAAA,IAAI8H,YAAY,CAACK,KAAK,CAACxH,GAAG,CAAC,EAAE;gBACzB+H,GAAG,CAAC,GAAG,GAAG/H,GAAG,GAAG,GAAG,CAAC,GAAGX,GAAG,CAACW,GAAG,CAAC,CAAA;AACnC,eAAC,MAAM;AACHgI,gBAAAA,GAAG,CAAChI,GAAG,CAAC,GAAGX,GAAG,CAACW,GAAG,CAAC,CAAA;AACvB,eAAA;AACJ,aAAA;AACAP,YAAAA,MAAM,CAACC,MAAM,CAACyH,YAAY,CAACK,KAAK,EAAE/H,MAAM,CAACC,MAAM,CAACqI,GAAG,EAAEC,GAAG,CAAC,CAAC,CAAA;AAC9D,WAAA;AACA,UAAA;AACI;AACA,YAAA,KAAK,IAAIhI,GAAG,IAAIgI,GAAG,EAAE;AACjB,cAAA,IAAIhI,GAAG,EAAE;AACLwF,gBAAAA,EAAE,CAACkB,cAAc,CAACS,YAAY,CAACK,KAAK,EAACxH,GAAG,EAAE,UAAUA,GAAG,EAAEc,KAAK,EAAE;kBAC5DC,WAAW,CAAC,QAAQ,GAAGf,GAAG,EAAEc,KAAK,EAAEqG,YAAY,CAAC,CAAA;AACpD,iBAAC,CAAC,CAAA;AACN,eAAA;AACJ,aAAA;AACJ,WAAA;AACJ,SAAA;OACH,CAAA;AACDA,MAAAA,YAAY,CAACc,QAAQ,GAAIjI,GAAG,IAAK;AAC7B,QAAA,IAAIsC,GAAG,GAAG6E,YAAY,CAACK,KAAK,CAACxH,GAAG,CAAC,CAAA;AACjC,QAAA,OAAOsC,GAAG,CAAA;OACb,CAAA;AACD6E,MAAAA,YAAY,CAACe,YAAY,GAAI3D,IAAI,IAAK;QAClC,OAAO;AACH0D,UAAAA,QAAQ,EAAEf,cAAc,CAAC3C,IAAI,CAAC,CAAC0D,QAAQ;AACvCH,UAAAA,QAAQ,EAAEZ,cAAc,CAAC3C,IAAI,CAAC,CAACuD,QAAQ;AACvCjH,UAAAA,QAAQ,EAAEqG,cAAc,CAAC3C,IAAI,CAAC,CAAC1D,QAAQ;AACvCgH,UAAAA,QAAQ,EAAEX,cAAc,CAAC3C,IAAI,CAAC,CAACsD,QAAQ;AACvC1J,UAAAA,KAAK,EAAE+I,cAAc,CAAC3C,IAAI,CAAC,CAACpG,KAAK;AACjCqJ,UAAAA,KAAK,EAAEN,cAAc,CAAC3C,IAAI,CAAC,CAACiD,KAAK;AACjChI,UAAAA,KAAK,EAAE0H,cAAc,CAAC3C,IAAI,CAAC,CAAC/E,KAAAA;SAC/B,CAAA;OACJ,CAAA;MACD2H,YAAY,CAAClI,QAAQ,GAAG;QACpBH,GAAG,EAAE,UAAUC,CAAC,EAAE;AACd,UAAA,IAAIwG,QAAQ,CAACxG,CAAC,CAAC,EAAE;YACb,IAAIoI,YAAY,CAACgB,YAAY,EAAE;cAC3B1I,MAAM,CAACC,MAAM,CAACyH,YAAY,CAACM,SAAS,EAAE1I,CAAC,CAAC,CAAA;cACxC,OAAOyG,EAAE,CAACQ,aAAa,CAAClH,GAAG,CAACC,CAAC,EAAEoI,YAAY,CAACgB,YAAY,CAAC,CAAA;AAC7D,aAAA;AACJ,WAAC,MAAM;AACHvJ,YAAAA,SAAS,CAACL,KAAK,CAAC,sBAAsB,CAAC,CAAA;AAC3C,WAAA;SACH;QACDwB,GAAG,EAAE,UAAUC,GAAG,EAAE;UAChB,IAAIsF,QAAQ,CAACtF,GAAG,CAAC,IAAImH,YAAY,CAACgB,YAAY,EAAE;YAC5C,OAAO3C,EAAE,CAACQ,aAAa,CAACjG,GAAG,CAACC,GAAG,EAAEmH,YAAY,CAACgB,YAAY,CAAC,CAAA;AAC/D,WAAA;AACJ,SAAA;OACH,CAAA;MAED,IAAIhB,YAAY,CAACxD,QAAQ,EAAE;AACvB;QACA,IAAIwD,YAAY,CAACiB,cAAc,EAAE;UAC7BjB,YAAY,CAACO,OAAO,GAAC,gBAAgB,CAAA;AACrC,UAAA,IAAIpF,GAAG,GAAG6E,YAAY,CAACiB,cAAc,EAAE,CAAA;AACvC,UAAA,IAAI9F,GAAG,EAAE;AACL,YAAA,OAAOA,GAAG,CAAA;AACd,WAAA;AACJ,SAAA;QAEAkD,EAAE,CAACW,QAAQ,CAAC,YAAY;AACpB,UAAA,IAAI9B,QAAQ,GAAG8C,YAAY,CAAChJ,KAAK,CAACyJ,GAAG,GAAG9E,QAAQ,CAACS,aAAa,CAAC4D,YAAY,CAAChJ,KAAK,CAACyJ,GAAG,CAAC,GAAG,IAAI,CAAA;AAC7F,UAAA,IAAIjE,QAAQ,GAAGwD,YAAY,CAACxD,QAAQ,EAAE,CAAA;AACtC,UAAA,IAAII,KAAK,CAAA;AACT,UAAA,IAAIsE,IAAI,CAAA;AACR,UAAA,IAAI/C,QAAQ,CAAC3B,QAAQ,CAAC,EAAE;AACpBI,YAAAA,KAAK,GAAGF,WAAW,CAACF,QAAQ,CAAC,CAAA;AACjC,WAAA;AACA;AACA0E,UAAAA,IAAI,GAAG7C,EAAE,CAAChC,MAAM,CAACO,KAAK,EAAEoD,YAAY,EAAE3B,EAAE,CAAC/B,MAAM,CAAC,CAAA;UAChD0D,YAAY,CAACmB,KAAK,GAACD,IAAI,CAAA;AACvB;UACA,IAAIlB,YAAY,CAACoB,qBAAqB,EAAE;YACpCpB,YAAY,CAACO,OAAO,GAAC,uBAAuB,CAAA;AAC5C,YAAA,IAAIpF,GAAG,GAAC6E,YAAY,CAACoB,qBAAqB,CAACF,IAAI,CAAC,CAAA;AAChD,YAAA,IAAI/F,GAAG,EAAE;cACL,IAAIiD,QAAQ,CAACjD,GAAG,CAAC,IAAEA,GAAG,CAAC+F,IAAI,EAAE;gBACzBA,IAAI,GAAC/F,GAAG,CAAC+F,IAAI,CAAA;AACjB,eAAC,MAAM;AACH,gBAAA,OAAO/F,GAAG,CAAA;AACd,eAAA;AACJ,aAAA;AACJ,WAAA;AACA;AACA+B,UAAAA,QAAQ,CAACf,WAAW,CAAC+E,IAAI,CAAC,CAAA;;AAE1B;UACA,IAAIlB,YAAY,CAACqB,oBAAoB,EAAE;YACnCrB,YAAY,CAACO,OAAO,GAAC,sBAAsB,CAAA;YAC3CP,YAAY,CAACqB,oBAAoB,EAAE,CAAA;AACvC,WAAA;;AAEA;UACA,IAAIrB,YAAY,CAACsB,oBAAoB,EAAE;YACnCtB,YAAY,CAACO,OAAO,GAAC,sBAAsB,CAAA;YAC3CP,YAAY,CAACsB,oBAAoB,EAAE,CAAA;AACvC,WAAA;;AAEA;UACA,IAAItB,YAAY,CAACuB,gBAAgB,EAAE;YAC/BvB,YAAY,CAACO,OAAO,GAAC,kBAAkB,CAAA;YACvCP,YAAY,CAACuB,gBAAgB,EAAE,CAAA;AACnC,WAAA;AAEJ,SAAC,CAAC,CAAA;AACN,OAAA;AACJ,KAAA;AACJ,GAAA;AACA,EAAA,SAAS3H,WAAW,CAACf,GAAG,EAAEc,KAAK,EAAER,OAAO,EAAE;AACtC,IAAA,IAAI+D,QAAQ,GAAE/D,OAAO,CAACnC,KAAK,CAAC,KAAK,CAAC,CAAA;AAClC,IAAA,OAAQkG,QAAS,IAAI,QAAQ,GAAGA,QAAQ,GAAGvB,QAAQ,CAACS,aAAa,CAACc,QAAQ,CAAC,GAAG,IAAI,CAAA;AAClF;AACA,IAAA,IAAI/D,OAAO,CAACoH,OAAO,IAAE,uBAAuB,EAAE;MAC1CrD,QAAQ,GAAC/D,OAAO,CAACgI,KAAK,CAAA;AAC1B,KAAA;AACA,IAAA,IAAIhI,OAAO,CAACoH,OAAO,IAAE,gBAAgB,EAAE;AACnC,MAAA,OAAA;AACJ,KAAA;IAEApH,OAAO,CAACS,WAAW,CAACf,GAAG,CAAC,CAAC+B,OAAO,CAAChD,CAAC,IAAI;MAClC,IAAIC,IAAI,GAAG,cAAc,GAAGD,CAAC,CAACkC,EAAE,GAAG,GAAG,CAAA;MACtC,IAAIN,EAAE,GAAG0D,QAAQ,CAACd,aAAa,CAAC,QAAQ,GAAGvE,IAAI,GAAG,GAAG,CAAC,CAAA;AACtD,MAAA,IAAIoB,OAAO,GAAGoB,QAAQ,CAAClB,OAAO,EAAE;QAC5BQ,KAAK,EAAE/B,CAAC,CAAC+B,KAAAA;AACb,OAAC,CAAC,CAAA;MAEF,QAAQ/B,CAAC,CAACmC,IAAI;AACV,QAAA,KAAK,WAAW;AACZ,UAAA,IAAInC,CAAC,CAACiB,GAAG,IAAI,OAAO,EAAE;YAClB,IAAI2I,MAAM,GAAGhI,EAAE,CAACiI,YAAY,CAAC,OAAO,CAAC,IAAI,EAAE,CAAA;YAC3CD,MAAM,GAAGA,MAAM,CAACjI,OAAO,CAACN,OAAO,EAAE,EAAE,CAAC,CAAA;YACpCuI,MAAM,GAAGA,MAAM,IAAI,EAAE,GAAG,EAAE,GAAGA,MAAM,GAAG,GAAG,CAAA;YAEzChI,EAAE,CAACwC,YAAY,CAAC,OAAO,EAAEwF,MAAM,GAAG7H,KAAK,CAAC,CAAA;AAC5C,WAAA;AACA,UAAA,IAAI/B,CAAC,CAACiB,GAAG,IAAI,OAAO,EAAE;YAClB,IAAI6I,MAAM,GAAGlI,EAAE,CAACiI,YAAY,CAAC,OAAO,CAAC,IAAI,EAAE,CAAA;YAC3CC,MAAM,GAAGA,MAAM,CAACnI,OAAO,CAACN,OAAO,EAAE,EAAE,CAAC,CAAA;YACpCyI,MAAM,GAAGA,MAAM,IAAI,EAAE,GAAG,EAAE,GAAGA,MAAM,GAAG,GAAG,CAAA;YACzClI,EAAE,CAACwC,YAAY,CAAC,OAAO,EAAE0F,MAAM,GAAG/H,KAAK,CAAC,CAAA;AAC5C,WAAA;AACA,UAAA,IAAI/B,CAAC,CAACiB,GAAG,IAAI,EAAE,EAAE;YACbW,EAAE,CAACwC,YAAY,CAACpE,CAAC,CAACiB,GAAG,EAAEc,KAAK,CAAC,CAAA;AACjC,WAAA;AACA,UAAA,MAAA;AACJ,QAAA,KAAK,MAAM;AACP,UAAA,IAAIA,KAAK,KAAK/B,CAAC,CAACoD,IAAI,EAAE;YAClBxB,EAAE,CAAC0C,SAAS,GAAGvC,KAAK,CAAA;AACxB,WAAA;AACA,UAAA,MAAA;AAEM,OAAA;AAEd;AACJ,KAAC,CAAC,CAAA;;AACF,IAAA,SAASU,QAAQ,CAAClB,OAAO,EAAEoD,SAAS,EAAE;MAClC,OAAOF,MAAM,CAAC,IAAI,EAAElD,OAAO,EAAEkF,EAAE,CAAC/B,MAAM,EAAEC,SAAS,CAAC,CAAA;AACtD,KAAA;AACJ,GAAA;AACAhF,EAAAA,OAAO,CAACoK,GAAG,CAAC5B,cAAc,CAAC,IAAI,CAAC,CAAC,CAAA;AACjC;;AAEA,EAAA,OAAOA,cAAc,CAAA;AACzB,CAAC,CAAA;AAED1B,EAAE,CAACM,KAAK,CAAC/D,OAAO,CAACkE,EAAE,IAAI;AACnBA,EAAAA,EAAE,EAAE,CAAA;AACR,CAAC,CAAC;;AC3VF;AACA;;AAEA,MAAM8C,EAAE,SAASvD,EAAE,CAACvH,SAAS,CAAC;EAC1BC,WAAW,CAACC,KAAK,EAAE;AACf,IAAA,KAAK,EAAE,CAAA;IACP,IAAI,CAACqJ,KAAK,GAAG;AAAEwB,MAAAA,EAAE,EAAE,KAAK;AAACC,MAAAA,EAAE,EAAC,QAAQ;AAAC1I,MAAAA,KAAK,EAAC,OAAA;KAAS,CAAA;IACpD,IAAI,CAACf,KAAK,GAAC;AAAC0J,MAAAA,EAAE,EAAC,EAAA;KAAG,CAAA;IAClB,IAAI,CAAC/K,KAAK,GAACA,KAAK,CAAA;AACpB,GAAA;AAEAgL,EAAAA,mBAAmB,GAAG;AAAE;;AAEhBzK,IAAAA,OAAO,CAACoK,GAAG,CAAC,aAAa,CAAC,CAAA;IAE1BpK,OAAO,CAACoK,GAAG,CAAC,IAAI,CAACZ,YAAY,CAAC,IAAI,CAAC,CAAC,CAAA;IACpC,IAAI,CAACA,YAAY,CAAC,IAAI,CAAC,CAACrH,QAAQ,CAAC,IAAI,EAAC,WAAW,CAAC,CAAA;AAE1D,GAAA;AACA0H,EAAAA,qBAAqB,GAAG;AAAC;;IAErB,IAAI,CAACV,QAAQ,CAAC;AAAC,MAAA,KAAK,EAAC,MAAA;KAAO,EAAC,IAAI,CAAC,CAAA;AAEtC,GAAA;AACAY,EAAAA,oBAAoB,GAAG;AACvB,GAAA;AACAW,EAAAA,qBAAqB,GAAG;AAExB,GAAA;AAEAC,EAAAA,OAAO,GAAG;IACN7I,KAAK,EAAE,UAAU8I,CAAC,EAAE;AAChB,MAAA,OAAO,OAAO,CAAA;AACd;AACJ,KAAA;GACH,CAAA;AAGL,CAAA;;AACA,MAAMC,EAAE,SAAS/D,EAAE,CAACvH,SAAS,CAAC;AAC1BC,EAAAA,WAAW,GAAG;AACV,IAAA,KAAK,EAAE,CAAA;IACP,IAAI,CAACsJ,KAAK,GAAG;AAAEgC,MAAAA,IAAI,EAAC,KAAK;AAACC,MAAAA,IAAI,EAAC,QAAQ;AAAClJ,MAAAA,KAAK,EAAC,OAAA;KAAS,CAAA;IACvD,IAAI,CAACf,KAAK,GAAC;AAAEgK,MAAAA,IAAI,EAAE,KAAA;KAAM,CAAA;AACzB;AACJ,GAAA;;AACAH,EAAAA,OAAO,GAAG;IACN7I,KAAK,EAAE,UAAU8I,CAAC,EAAE;AAChB,MAAA,OAAO,OAAO,CAAA;AAClB,KAAA;GACH,CAAA;AACDlB,EAAAA,cAAc,GAAE;IACZ,IAAI,CAACP,QAAQ,CAAC;AAAC,MAAA,MAAM,EAAC,IAAA;KAAK,EAAC,IAAI,CAAC,CAAA;AACjC;IACA,IAAI,CAAChH,QAAQ,CAAC;AAAE2I,MAAAA,IAAI,EAAC,YAAY;AAAC,MAAA,gBAAgB,EAAE,gBAAgB;AAAC,MAAA,iBAAiB,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;AAG/F,IAAA,IAAI,CAACvK,QAAQ,CAACH,GAAG,CAAC;AAAC,MAAA,KAAK,EAAC,OAAA;AAAO,KAAC,CAAC,CAAA;AACtC,GAAA;AACAyJ,EAAAA,qBAAqB,GAAG;AACpB;AAEJ,GAAA;AACAC,EAAAA,oBAAoB,GAAE;IAClB,IAAI,CAAC3H,QAAQ,CAAC;AAAE,MAAA,gBAAgB,EAAE,YAAY;AAAC,MAAA,iBAAiB,EAAE,oBAAA;AAAqB,KAAC,CAAC,CAAA;AAC7F,GAAA;AAEA8C,EAAAA,QAAQ,GAAE;IACN,OAAQ,CAAA;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAS,CAAA,CAAA;AACL,GAAA;AACJ,CAAA;AACA,MAAM+F,EAAE,SAASlE,EAAE,CAACvH,SAAS,CAAC;AAC1BC,EAAAA,WAAW,GAAG;AACV,IAAA,KAAK,EAAE,CAAA;AACP,IAAA,IAAI,CAACsJ,KAAK,GAAC,EAAE,CAAA;AACb,IAAA,IAAI,CAAChI,KAAK,GAAC,EAAE,CAAA;AACjB,GAAA;AACJ,CAAA;AAEAgG,EAAE,CAACe,iBAAiB,CAACwC,EAAE,EAACQ,EAAE,EAACG,EAAE,CAAC,CAAA;AAExBlE,EAAE,CAACuB,GAAG,CAAC;AAAC,EAAA,IAAI,EAAC;AAACa,IAAAA,GAAG,EAAC,QAAQ;AAAC,IAAA,IAAI,EAAC,GAAG;AAAC,IAAA,GAAG,EAAC,GAAA;GAAI;AAAC,EAAA,IAAI,EAAC;AAACA,IAAAA,GAAG,EAAC,QAAA;GAAS;AAAC,EAAA,IAAI,EAAC,EAAC;AAAC,CAAC,EAAC;AAChF"}